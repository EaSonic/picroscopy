<div metal:use-macro="layout['layout']" tal:define="title 'Library'">
  <div metal:fill-slot="content" tal:omit-tag="">

    <div class="row">
      <div class="small-12 columns">
        <ul class="button-group radius">
          <li><a class="small button" href="${router.path_for('capture')}">Capture</a></li>
          <li><a class="small button" href="${router.path_for('template', page='settings')}">Settings</a></li>
          <li><a class="small button ${'disabled' if not camera else None}" href="${router.path_for('clear')}">Clear</a></li>
        </ul>
      </div>
    </div>

    <div class="row">
      <div class="small-12 columns">
        <p tal:condition="not camera">There are no images to display.</p>
        <p tal:condition="camera">${len(camera)} image(s) stored.</p>
        <ul class="gallery small-block-grid-2 large-block-grid-4" tal:condition="camera">
          <li tal:repeat="image camera">
          <a href="${router.path_for('image', image=image)}">
            <img src="${router.path_for('thumb', image=image)}" />
            <br />
            ${image}
          </a>
          </li>
        </ul>
      </div>
    </div>

    <div class="row" tal:condition="camera">
      <div class="small-2 columns">
        <a class="small button radius" href="${router.path_for('download')}">Download</a>
      </div>
      <div class="small-10 columns">
        <div class="row collapse">
          <form method="POST" action="${router.path_for('send')}">
            <div class="small-10 columns">
              <input type="email" name="email" placeholder="E-mail address" />
            </div>
            <div class="small-2 columns">
              <a class="postfix small button radius" href="#" onclick="document.forms[0].submit();">Send</a>
            </div>
          </form>
        </div>
      </div>
    </div>

  </div>
</div>
